---
title: elasticsearch-analyzer
toc: true
date: 2021-07-06 15:02:01
tags: elasticsearch
categories: [Elasticsearch, Getting Started]
---

## æµ‹è¯•å¸¸è§åˆ†æå™¨

`GET /_analyze`
```json
{
  "analyzer": "standard",
  "text": "Oredr it now from Amazon  #fun #girlpower #fatscooter #Fat #Cats"
}
```

`GET /_analyze`  
```json
{
  "analyzer": "english",
  "text": "Oredr it now from Amazon  #fun #girlpower #fatscooter #Fat #Cats"
}

```

`GET /_analyze`   
```json
{
  "analyzer": "simple",
  "text": "Oredr it now from Amazon  #fun #girlpower #fatscooter #Fat Cats"
}
```

`GET /_analyze`
```json
{
  "analyzer": "stop",
  "text": "Oredr it now from Amazon  #fun #girlpower #fatscooter #Fat Cats"
}
```



## é»˜è®¤åˆ†æå™¨

è™½ç„¶æˆ‘ä»¬å¯ä»¥åœ¨å­—æ®µå±‚çº§æŒ‡å®šåˆ†æå™¨ï¼Œä½†æ˜¯å¦‚æœè¯¥å±‚çº§æ²¡æœ‰æŒ‡å®šä»»ä½•çš„åˆ†æå™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•èƒ½ç¡®å®šè¿™ä¸ªå­—æ®µä½¿ç”¨çš„æ˜¯å“ªä¸ªåˆ†æå™¨å‘¢ï¼Ÿ  

åˆ†æå™¨å¯ä»¥ä»ä¸‰ä¸ªå±‚é¢è¿›è¡Œå®šä¹‰ï¼šæŒ‰å­—æ®µï¼ˆper-fieldï¼‰ã€æŒ‰ç´¢å¼•ï¼ˆper-indexï¼‰æˆ–å…¨å±€ç¼ºçœï¼ˆglobal defaultï¼‰ã€‚Elasticsearch ä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºä¾æ¬¡å¤„ç†ï¼Œç›´åˆ°å®ƒæ‰¾åˆ°èƒ½å¤Ÿä½¿ç”¨çš„åˆ†æå™¨ã€‚ç´¢å¼•æ—¶çš„é¡ºåºå¦‚ä¸‹ï¼š

- å­—æ®µæ˜ å°„é‡Œå®šä¹‰çš„ analyzer ï¼Œå¦åˆ™
- ç´¢å¼•è®¾ç½®ä¸­åä¸º default çš„åˆ†æå™¨ï¼Œé»˜è®¤ä¸º
- standard æ ‡å‡†åˆ†æå™¨

åœ¨æœç´¢æ—¶ï¼Œé¡ºåºæœ‰äº›è®¸ä¸åŒï¼š

- æŸ¥è¯¢è‡ªå·±å®šä¹‰çš„ analyzer ï¼Œå¦åˆ™
- å­—æ®µæ˜ å°„é‡Œå®šä¹‰çš„ analyzer ï¼Œå¦åˆ™
- ç´¢å¼•è®¾ç½®ä¸­åä¸º default çš„åˆ†æå™¨ï¼Œé»˜è®¤ä¸º
- standard æ ‡å‡†åˆ†æå™¨
  
æœ‰æ—¶ï¼Œåœ¨ç´¢å¼•æ—¶å’Œæœç´¢æ—¶ä½¿ç”¨ä¸åŒçš„åˆ†æå™¨æ˜¯åˆç†çš„ã€‚æˆ‘ä»¬å¯èƒ½è¦æƒ³ä¸ºåŒä¹‰è¯å»ºç´¢å¼•ï¼ˆä¾‹å¦‚ï¼Œæ‰€æœ‰ quick å‡ºç°çš„åœ°æ–¹ï¼ŒåŒæ—¶ä¹Ÿä¸º fast ã€ rapid å’Œ speedy åˆ›å»ºç´¢å¼•ï¼‰ã€‚ä½†åœ¨æœç´¢æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦æœç´¢æ‰€æœ‰çš„åŒä¹‰è¯ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å¯»æ‰¾ç”¨æˆ·è¾“å…¥çš„å•è¯æ˜¯å¦æ˜¯ quick ã€ fast ã€ rapid æˆ– speedy ã€‚

ä¸ºäº†åŒºåˆ†ï¼ŒElasticsearch ä¹Ÿæ”¯æŒä¸€ä¸ªå¯é€‰çš„ `search_analyzer` æ˜ å°„ï¼Œå®ƒä»…ä¼šåº”ç”¨äºæœç´¢æ—¶ï¼ˆ `analyzer` è¿˜ç”¨äºç´¢å¼•æ—¶ï¼‰ã€‚è¿˜æœ‰ä¸€ä¸ªç­‰ä»·çš„ `default_search` æ˜ å°„ï¼Œç”¨ä»¥æŒ‡å®šç´¢å¼•å±‚çš„é»˜è®¤é…ç½®ã€‚

å¦‚æœè€ƒè™‘åˆ°è¿™äº›é¢å¤–å‚æ•°ï¼Œä¸€ä¸ªæœç´¢æ—¶çš„ å®Œæ•´ é¡ºåºä¼šæ˜¯ä¸‹é¢è¿™æ ·ï¼š

æŸ¥è¯¢è‡ªå·±å®šä¹‰çš„ `analyzer` ï¼Œå¦åˆ™
å­—æ®µæ˜ å°„é‡Œå®šä¹‰çš„ `search_analyzer` ï¼Œå¦åˆ™
å­—æ®µæ˜ å°„é‡Œå®šä¹‰çš„ `analyzer` ï¼Œå¦åˆ™
ç´¢å¼•è®¾ç½®ä¸­åä¸º `default_search` çš„åˆ†æå™¨ï¼Œé»˜è®¤ä¸º
ç´¢å¼•è®¾ç½®ä¸­åä¸º `default` çš„åˆ†æå™¨ï¼Œé»˜è®¤ä¸º`standard` æ ‡å‡†åˆ†æå™¨

## ä¿æŒç®€å•

å¤šæ•°æƒ…å†µä¸‹ï¼Œä¼šæå‰çŸ¥é“æ–‡æ¡£ä¼šåŒ…æ‹¬å“ªäº›å­—æ®µã€‚æœ€ç®€å•çš„é€”å¾„å°±æ˜¯åœ¨åˆ›å»ºç´¢å¼•æˆ–è€…å¢åŠ ç±»å‹æ˜ å°„æ—¶ï¼Œä¸ºæ¯ä¸ªå…¨æ–‡å­—æ®µè®¾ç½®åˆ†æå™¨ã€‚è¿™ç§æ–¹å¼å°½ç®¡æœ‰ç‚¹éº»çƒ¦ï¼Œä½†æ˜¯å®ƒè®©æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°æ¯ä¸ªå­—æ®µæ¯ä¸ªåˆ†æå™¨æ˜¯å¦‚ä½•è®¾ç½®çš„ã€‚

é€šå¸¸ï¼Œå¤šæ•°å­—ç¬¦ä¸²å­—æ®µéƒ½æ˜¯ `not_analyzed` ç²¾ç¡®å€¼å­—æ®µï¼Œæ¯”å¦‚æ ‡ç­¾ï¼ˆtagï¼‰æˆ–æšä¸¾ï¼ˆenumï¼‰ï¼Œè€Œä¸”æ›´å¤šçš„å…¨æ–‡å­—æ®µä¼šä½¿ç”¨é»˜è®¤çš„ `standard` åˆ†æå™¨æˆ– `english` æˆ–å…¶ä»–æŸç§è¯­è¨€çš„åˆ†æå™¨ã€‚è¿™æ ·åªéœ€è¦ä¸ºå°‘æ•°ä¸€ä¸¤ä¸ªå­—æ®µæŒ‡å®šè‡ªå®šä¹‰åˆ†æï¼šæˆ–è®¸æ ‡é¢˜ title å­—æ®µéœ€è¦ä»¥æ”¯æŒ è¾“å…¥å³æŸ¥æ‰¾ï¼ˆfind-as-you-typeï¼‰ çš„æ–¹å¼è¿›è¡Œç´¢å¼•ã€‚

å¯ä»¥åœ¨ç´¢å¼•çº§åˆ«è®¾ç½®ä¸­ï¼Œä¸ºç»å¤§éƒ¨åˆ†çš„å­—æ®µè®¾ç½®ä½ æƒ³æŒ‡å®šçš„ `default` é»˜è®¤åˆ†æå™¨ã€‚ç„¶ååœ¨å­—æ®µçº§åˆ«è®¾ç½®ä¸­ï¼Œå¯¹æŸä¸€ä¸¤ä¸ªå­—æ®µé…ç½®éœ€è¦æŒ‡å®šçš„åˆ†æå™¨ã€‚

ğŸ“’ ğŸ“’ ğŸ“’
å¯¹äºå’Œæ—¶é—´ç›¸å…³çš„æ—¥å¿—æ•°æ®ï¼Œé€šå¸¸çš„åšæ³•æ˜¯æ¯å¤©è‡ªè¡Œåˆ›å»ºç´¢å¼•ï¼Œç”±äºè¿™ç§æ–¹å¼ä¸æ˜¯ä»å¤´åˆ›å»ºçš„ç´¢å¼•ï¼Œä»ç„¶å¯ä»¥ç”¨ ç´¢å¼•æ¨¡æ¿ï¼ˆIndex Templateï¼‰ ä¸ºæ–°å»ºçš„ç´¢å¼•æŒ‡å®šé…ç½®å’Œæ˜ å°„ã€‚



## å‚è€ƒèµ„æ–™
> - [Elasticsearch: æƒå¨æŒ‡å— Â» æ·±å…¥æœç´¢ Â» å…¨æ–‡æœç´¢ Â» æ§åˆ¶åˆ†æ](https://www.elastic.co/guide/cn/elasticsearch/guide/current/_controlling_analysis.html)

